# Profile
spring.profiles.active=dev

# Datasource
spring.datasource.url=jdbc:postgresql://localhost:5432/tomo
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=postgres
spring.datasource.password=postgres

# Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Application Configuration
server.port=8080

# OIDC (Google)
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.redirect-uri=${GOOGLE_REDIRECT_URI}
spring.security.oauth2.client.registration.google.scope=${GOOGLE_SCOPE:openid%20email}
spring.security.oauth2.client.provider.google.issuer-uri=https://accounts.google.com

# Resilience4j (OIDC endpoints & jwks)
resilience4j.retry.instances.oidc-endpoints.max-attempts=3
resilience4j.retry.instances.oidc-endpoints.wait-duration=3s
resilience4j.circuitbreaker.instances.oidc-endpoints.sliding-window-size=10
resilience4j.circuitbreaker.instances.oidc-endpoints.failure-rate-threshold=50

resilience4j.retry.instances.oidc-jwks.max-attempts=3
resilience4j.retry.instances.oidc-jwks.wait-duration=200ms
resilience4j.circuitbreaker.instances.oidc-jwks.sliding-window-size=10
resilience4j.circuitbreaker.instances.oidc-jwks.failure-rate-threshold=50
